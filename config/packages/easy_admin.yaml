
# config/packages/easy_admin.yaml
easy_admin:
    formats:
        date:     'd/m/Y'
        time:     'H:i'
        datetime: 'd/m/Y H:i:s'
    design:
        assets:
            css: ['/assets/css/custom.css']
            js: ['/assets/js/handleFile.js']
        form_theme:
            - '@EasyAdmin/form/bootstrap_4.html.twig'
            - 'admin/collection_images_view.html.twig'
        menu:
#            - { label: 'Dashboard', route: 'admin_index'}
#            - { entity : 'Minisite'}
            - { entity : 'Article'}
            - { entity : 'Categorie'}
    entities:
#        Minisite:
#            label: 'Minisites'
#            class: App\Entity\Minisite
#            list:
#                fields:
#                - {property: 'name', label : 'Nom du site'}
#                - {property: 'ndd', label: 'Nom de domaine du minisite'}
#                - {property: 'created_at', label: 'Créé le :'}
#            form:
#                fields:
#                - {property: 'name', type_options: { label : 'Nom du minisite'} }
#                - {property: 'ndd', type_options:  {label: 'Nom de domaine'}}
        Article:
            label: 'Articles'
            controller: App\Controller\EasyAdmin\ArticleController
            class: App\Entity\Article
            templates:
                edit: 'admin/edit_article.html.twig'
                new: 'admin/new_article.html.twig'
            list:
                fields:
                - { property: 'name', label: "Nom de l'article"}
#                - { property: 'RelatedMinisite', label: "Nom du minisite"}
                - { property: 'created_at', label: "Créé le :"}

            new:
                fields:
                - { property: 'name' }
                - { property: 'metadata', type: 'App\Form\MetaDataType' }
                - { property: 'content', type: 'fos_ckeditor' }
                - { property: 'categories', type: 'easyadmin_autocomplete', type_options: { mapped: false, class: 'App\Entity\Categorie', multiple: true} }
                - { property: 'images', type: 'collection', type_options: { entry_type: 'App\Form\ImageType' , by_reference: false,block_name: 'images_collection'}}

            edit:
                fields:
                - { property: 'name' }
                - { property: 'metadata', type: 'App\Form\MetaDataType' }
                - { property: 'content', type: 'fos_ckeditor' }
                - { property: 'categories', type: 'easyadmin_autocomplete', type_options: { class: 'App\Entity\Categorie', multiple: true} }
                - { property: 'images', type: 'collection', type_options: { entry_type: 'App\Form\ImageType' , by_reference: false, block_name: 'images_collection'}}


        Categorie:
            label: 'Categories'
            class: App\Entity\Categorie
            form:
                fields:
                - { property: 'name', type: 'text' }
                - { property: 'description', type: 'fos_ckeditor' }

